Both the S&P 500 and the Nasdaq indexes have scored three straight weeks of gains.